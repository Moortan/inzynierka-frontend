{"ast":null,"code":"import _regeneratorRuntime from\"/Users/sleniart/projects/react-front/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/sleniart/projects/react-front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import axios from'axios';axios.defaults.withCredentials=true;var API_URL='http://localhost:4202';//bind token to the axios\nexport var setAuthToken=function setAuthToken(token){if(token){axios.defaults.headers.common['Authorization']=\"Bearer \".concat(token);}else{delete axios.defaults.headers.common['Authorization'];}};//verify refresh token to generate new access token\nexport var verifyTokenService=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.post(\"\".concat(API_URL,\"/verifyTokens\"));case 3:return _context.abrupt(\"return\",_context.sent);case 6:_context.prev=6;_context.t0=_context[\"catch\"](0);return _context.abrupt(\"return\",{error:true,response:_context.t0.response});case 9:case\"end\":return _context.stop();}}},_callee,null,[[0,6]]);}));return function verifyTokenService(){return _ref.apply(this,arguments);};}();//login api\nexport var userLoginService=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(username,password){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios.post(\"\".concat(API_URL,\"/login\"),{email:username,password:password});case 3:return _context2.abrupt(\"return\",_context2.sent);case 6:_context2.prev=6;_context2.t0=_context2[\"catch\"](0);return _context2.abrupt(\"return\",{error:true,response:_context2.t0.response});case 9:case\"end\":return _context2.stop();}}},_callee2,null,[[0,6]]);}));return function userLoginService(_x,_x2){return _ref2.apply(this,arguments);};}();//logout api\nexport var userLogoutService=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return axios.post(\"\".concat(API_URL,\"/logout\"));case 3:return _context3.abrupt(\"return\",_context3.sent);case 6:_context3.prev=6;_context3.t0=_context3[\"catch\"](0);return _context3.abrupt(\"return\",{error:_context3.t0,response:_context3.t0.response});case 9:case\"end\":return _context3.stop();}}},_callee3,null,[[0,6]]);}));return function userLogoutService(){return _ref3.apply(this,arguments);};}();export var userSignupService=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(email,username,password){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return axios.post(\"\".concat(API_URL,\"/signup\"),{email:email,username:username,password:password});case 3:return _context4.abrupt(\"return\",_context4.sent);case 6:_context4.prev=6;_context4.t0=_context4[\"catch\"](0);return _context4.abrupt(\"return\",{error:_context4.t0,response:_context4.t0.response});case 9:case\"end\":return _context4.stop();}}},_callee4,null,[[0,6]]);}));return function userSignupService(_x3,_x4,_x5){return _ref4.apply(this,arguments);};}();","map":{"version":3,"sources":["/Users/sleniart/projects/react-front/src/services/auth.js"],"names":["axios","defaults","withCredentials","API_URL","setAuthToken","token","headers","common","verifyTokenService","post","error","response","userLoginService","username","password","email","userLogoutService","userSignupService"],"mappings":"2OAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACAA,KAAK,CAACC,QAAN,CAAeC,eAAf,CAAiC,IAAjC,CAEA,GAAMC,CAAAA,OAAO,CAAG,uBAAhB,CAEA;AACA,MAAO,IAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAAAC,KAAK,CAAI,CACjC,GAAIA,KAAJ,CAAW,CACPL,KAAK,CAACC,QAAN,CAAeK,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,mBAA2DF,KAA3D,EACH,CAFD,IAEO,CACH,MAAOL,CAAAA,KAAK,CAACC,QAAN,CAAeK,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,CAAP,CACH,CACJ,CANM,CAQP;AACA,MAAO,IAAMC,CAAAA,kBAAkB,0FAAG,yKAEbR,CAAAA,KAAK,CAACS,IAAN,WAAcN,OAAd,kBAFa,+IAInB,CACHO,KAAK,CAAE,IADJ,CAEHC,QAAQ,CAAE,YAAIA,QAFX,CAJmB,qEAAH,kBAAlBH,CAAAA,kBAAkB,0CAAxB,CAWP;AACA,MAAO,IAAMI,CAAAA,gBAAgB,2FAAG,kBAAMC,QAAN,CAAgBC,QAAhB,8JAEXd,CAAAA,KAAK,CAACS,IAAN,WAAcN,OAAd,WAA+B,CAACY,KAAK,CAAEF,QAAR,CAAkBC,QAAQ,CAAEA,QAA5B,CAA/B,CAFW,qJAIjB,CACHJ,KAAK,CAAE,IADJ,CAEHC,QAAQ,CAAE,aAAIA,QAFX,CAJiB,uEAAH,kBAAhBC,CAAAA,gBAAgB,iDAAtB,CAWP;AACA,MAAO,IAAMI,CAAAA,iBAAiB,2FAAG,gLAEZhB,CAAAA,KAAK,CAACS,IAAN,WAAcN,OAAd,YAFY,qJAIlB,CACHO,KAAK,aADF,CAEHC,QAAQ,CAAE,aAAIA,QAFX,CAJkB,uEAAH,kBAAjBK,CAAAA,iBAAiB,2CAAvB,CAWP,MAAO,IAAMC,CAAAA,iBAAiB,2FAAG,kBAAMF,KAAN,CAAaF,QAAb,CAAuBC,QAAvB,8JAEZd,CAAAA,KAAK,CAACS,IAAN,WAAcN,OAAd,YAAgC,CAACY,KAAK,CAAEA,KAAR,CAAeF,QAAQ,CAAEA,QAAzB,CAAmCC,QAAQ,CAAEA,QAA7C,CAAhC,CAFY,qJAIlB,CACHJ,KAAK,aADF,CAEHC,QAAQ,CAAE,aAAIA,QAFX,CAJkB,uEAAH,kBAAjBM,CAAAA,iBAAiB,sDAAvB","sourcesContent":["import axios from 'axios';\naxios.defaults.withCredentials = true;\n\nconst API_URL = 'http://localhost:4202';\n\n//bind token to the axios\nexport const setAuthToken = token => {\n    if (token) {\n        axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n    } else {\n        delete axios.defaults.headers.common['Authorization'];\n    }\n}\n\n//verify refresh token to generate new access token\nexport const verifyTokenService = async() => {\n    try {\n        return await axios.post(`${API_URL}/verifyTokens`);\n    }catch (err) {\n        return {\n            error: true,\n            response: err.response\n        }\n    }\n}\n\n//login api\nexport const userLoginService = async(username, password) => {\n    try {\n        return await axios.post(`${API_URL}/login`, {email: username, password: password});\n    } catch(err) {\n        return {\n            error: true,\n            response: err.response\n        }\n    }\n}\n\n//logout api\nexport const userLogoutService = async() => {\n    try {\n        return await axios.post(`${API_URL}/logout`);\n    } catch(err) {\n        return {\n            error: err,\n            response: err.response\n        }\n    }\n}\n\nexport const userSignupService = async(email, username, password) => {\n    try {\n        return await axios.post(`${API_URL}/signup`, {email: email, username: username, password: password});\n    } catch(err) {\n        return {\n            error: err,\n            response: err.response\n        }\n    }\n}\n"]},"metadata":{},"sourceType":"module"}
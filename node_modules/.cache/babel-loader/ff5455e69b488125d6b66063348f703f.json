{"ast":null,"code":"import Cookies from \"universal-cookie\";\nimport axios from 'axios';\nconst cookies = new Cookies();\nexport const getToken = () => {\n  return cookies.get('x-access-token');\n};\nexport async function getUser() {\n  try {\n    const data = await axios.get('http://localhost:4202/profile', {\n      withCredentials: true\n    }).then(res => {\n      return res.data;\n    });\n    console.log(data.user);\n    return data.user;\n  } catch (error) {\n    console.log(error.message);\n  }\n}\nexport const setUserSession = (token, user) => {\n  sessionStorage.setItem('token', token);\n  sessionStorage.setItem('user', JSON.stringify(user));\n};","map":{"version":3,"sources":["/Users/sleniart/projects/react-front/src/Utils/Common.js"],"names":["Cookies","axios","cookies","getToken","get","getUser","data","withCredentials","then","res","console","log","user","error","message","setUserSession","token","sessionStorage","setItem","JSON","stringify"],"mappings":"AAAA,OAAOA,OAAP,MAAoB,kBAApB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,MAAMC,OAAO,GAAG,IAAIF,OAAJ,EAAhB;AAGA,OAAO,MAAMG,QAAQ,GAAG,MAAM;AAC1B,SAAOD,OAAO,CAACE,GAAR,CAAY,gBAAZ,CAAP;AACH,CAFM;AAIP,OAAO,eAAeC,OAAf,GAAyB;AAC5B,MAAI;AACA,UAAMC,IAAI,GAAG,MAAML,KAAK,CAACG,GAAN,CAAU,+BAAV,EAA2C;AAAEG,MAAAA,eAAe,EAAE;AAAnB,KAA3C,EAClBC,IADkB,CACbC,GAAG,IAAI;AACT,aAAOA,GAAG,CAACH,IAAX;AACH,KAHkB,CAAnB;AAIAI,IAAAA,OAAO,CAACC,GAAR,CAAYL,IAAI,CAACM,IAAjB;AACA,WAAON,IAAI,CAACM,IAAZ;AACH,GAPD,CAOE,OAAMC,KAAN,EAAa;AACXH,IAAAA,OAAO,CAACC,GAAR,CAAYE,KAAK,CAACC,OAAlB;AACH;AACJ;AAED,OAAO,MAAMC,cAAc,GAAG,CAACC,KAAD,EAAQJ,IAAR,KAAiB;AAC3CK,EAAAA,cAAc,CAACC,OAAf,CAAuB,OAAvB,EAAgCF,KAAhC;AACAC,EAAAA,cAAc,CAACC,OAAf,CAAuB,MAAvB,EAA+BC,IAAI,CAACC,SAAL,CAAeR,IAAf,CAA/B;AACH,CAHM","sourcesContent":["import Cookies from \"universal-cookie\"\nimport axios from 'axios';\nconst cookies = new Cookies();\n\n\nexport const getToken = () => {\n    return cookies.get('x-access-token');\n}\n\nexport async function getUser() {\n    try {\n        const data = await axios.get('http://localhost:4202/profile', { withCredentials: true })\n        .then(res => {\n            return res.data;\n        })\n        console.log(data.user);\n        return data.user;\n    } catch(error) {\n        console.log(error.message);\n    }\n}\n\nexport const setUserSession = (token, user) => {\n    sessionStorage.setItem('token', token);\n    sessionStorage.setItem('user', JSON.stringify(user));\n}"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import { verifyTokenStarted, verifyUserSuccess, verifyTokenEnd, userLoginStarted, userLoginFailure, userLogout, userSignupStarted, userSignupFailure, userSignupSuccess, addTeamStarted, addTeamFailure } from \"../actions/authActions\";\nimport { verifyTokenService, userLoginService, userLogoutService, userSignupService } from '../services/auth';\nimport { addTeamService } from \"../services/teams\"; //handle verify token\n\nexport const verifyTokenAsync = (silentAuth = false) => async dispatch => {\n  dispatch(verifyTokenStarted(silentAuth));\n  const result = await verifyTokenService();\n\n  if (result.error) {\n    dispatch(verifyTokenEnd());\n    if (result.response && [401, 403].includes(result.response.status)) dispatch(userLogout());\n    return;\n  }\n\n  if (result.status === 204) dispatch(verifyTokenEnd());else {\n    dispatch(verifyUserSuccess(result.data));\n  }\n};\nexport const addTeamAsync = (teamLeader, teamName, teamMembers, teamTag, game) => async dispatch => {\n  disptach(addTeamStarted());\n  const result = await addTeamService(teamLeader, teamName, teamMembers, teamTag, game);\n\n  if (result.error) {\n    dispatch(addTeamFailure(result.response.data));\n    return;\n  }\n}; // handle user login\n\nexport const userLoginAsync = (username, password) => async dispatch => {\n  dispatch(userLoginStarted());\n  const result = await userLoginService(username, password);\n\n  if (result.error) {\n    dispatch(userLoginFailure(result.response.data));\n    return;\n  }\n\n  dispatch(verifyUserSuccess(result.data));\n}; // handle user logout\n\nexport const userLogoutAsync = () => dispatch => {\n  dispatch(userLogout());\n  userLogoutService();\n}; //handle user signup\n\nexport const userSignupAsync = (email, username, password) => async dispatch => {\n  dispatch(userSignupStarted());\n  const result = await userSignupService(email, username, password);\n\n  if (result.error) {\n    dispatch(userSignupFailure(result.response.data.message));\n    return;\n  }\n\n  dispatch(userSignupSuccess(result.response));\n};","map":{"version":3,"sources":["/Users/sleniart/projects/react-front/src/asyncActions/authAsyncActions.js"],"names":["verifyTokenStarted","verifyUserSuccess","verifyTokenEnd","userLoginStarted","userLoginFailure","userLogout","userSignupStarted","userSignupFailure","userSignupSuccess","addTeamStarted","addTeamFailure","verifyTokenService","userLoginService","userLogoutService","userSignupService","addTeamService","verifyTokenAsync","silentAuth","dispatch","result","error","response","includes","status","data","addTeamAsync","teamLeader","teamName","teamMembers","teamTag","game","disptach","userLoginAsync","username","password","userLogoutAsync","userSignupAsync","email","message"],"mappings":"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","sourcesContent":["import {\n    verifyTokenStarted, verifyUserSuccess, verifyTokenEnd,\n    userLoginStarted, userLoginFailure, userLogout, userSignupStarted, userSignupFailure, userSignupSuccess, addTeamStarted, addTeamFailure\n} from \"../actions/authActions\";\nimport { verifyTokenService, userLoginService, userLogoutService, userSignupService } from '../services/auth';\nimport { addTeamService } from \"../services/teams\";\n\n//handle verify token\nexport const verifyTokenAsync = (silentAuth = false) => async dispatch => {\n    dispatch(verifyTokenStarted(silentAuth));\n\n    const result = await verifyTokenService();\n\n    if (result.error) {\n        dispatch(verifyTokenEnd());\n        if (result.response && [401, 403].includes(result.response.status))\n            dispatch(userLogout());\n        return;\n    }\n\n    if (result.status === 204)\n        dispatch(verifyTokenEnd());\n    else {\n        dispatch(verifyUserSuccess(result.data));\n    }\n}\n\nexport const addTeamAsync = (teamLeader, teamName, teamMembers, teamTag, game) => async dispatch => {\n    disptach(addTeamStarted());\n\n    const result = await addTeamService(teamLeader, teamName, teamMembers, teamTag, game);\n\n    if (result.error) {\n        dispatch(addTeamFailure(result.response.data));\n        return;\n    }\n}\n\n// handle user login\nexport const userLoginAsync = (username, password) => async dispatch => {\n    dispatch(userLoginStarted());\n\n    const result = await userLoginService(username, password);\n\n    if (result.error) {\n        dispatch(userLoginFailure(result.response.data));\n        return;\n    }\n\n    dispatch(verifyUserSuccess(result.data));\n}\n\n// handle user logout\nexport const userLogoutAsync = () => dispatch => {\n    dispatch(userLogout());\n    userLogoutService();\n}\n\n//handle user signup\nexport const userSignupAsync = (email, username, password) => async dispatch => {\n    dispatch(userSignupStarted());\n\n    const result = await userSignupService(email, username, password);\n\n    if(result.error) {\n        dispatch(userSignupFailure(result.response.data.message));\n        return;\n    }\n\n    dispatch(userSignupSuccess(result.response));\n}\n\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import { verifyTokenStarted, verifyUserSuccess, verifyTokenEnd, userLoginStarted, userLoginFailure, userLogout } from \"../actions/authActions\";\nimport { verifyTokenService, userLoginService, userLogoutService } from '../services/auth'; //handle verify token\n\nexport const verifyTokenAsync = (silentAuth = false) => async dispatch => {\n  dispatch(verifyTokenStarted(silentAuth));\n  const result = await verifyTokenService();\n\n  if (result.error) {\n    dispatch(verifyTokenEnd());\n    if (result.response && [401, 403].includes(result.response.status)) dispatch(userLogout());\n    return;\n  }\n\n  if (result.status === 204) dispatch(verifyTokenEnd());else {\n    dispatch(verifyUserSuccess(result.data));\n  }\n};","map":{"version":3,"sources":["/Users/sleniart/projects/react-front/src/asyncActions/authAsyncActions.js"],"names":["verifyTokenStarted","verifyUserSuccess","verifyTokenEnd","userLoginStarted","userLoginFailure","userLogout","verifyTokenService","userLoginService","userLogoutService","verifyTokenAsync","silentAuth","dispatch","result","error","response","includes","status","data"],"mappings":"AAAA,SACIA,kBADJ,EACwBC,iBADxB,EAC2CC,cAD3C,EAEIC,gBAFJ,EAEsBC,gBAFtB,EAEwCC,UAFxC,QAGO,wBAHP;AAIA,SAASC,kBAAT,EAA6BC,gBAA7B,EAA+CC,iBAA/C,QAAwE,kBAAxE,C,CAEA;;AACA,OAAO,MAAMC,gBAAgB,GAAG,CAACC,UAAU,GAAG,KAAd,KAAwB,MAAMC,QAAN,IAAkB;AACtEA,EAAAA,QAAQ,CAACX,kBAAkB,CAACU,UAAD,CAAnB,CAAR;AAEA,QAAME,MAAM,GAAG,MAAMN,kBAAkB,EAAvC;;AAEA,MAAIM,MAAM,CAACC,KAAX,EAAkB;AACdF,IAAAA,QAAQ,CAACT,cAAc,EAAf,CAAR;AACA,QAAIU,MAAM,CAACE,QAAP,IAAmB,CAAC,GAAD,EAAM,GAAN,EAAWC,QAAX,CAAoBH,MAAM,CAACE,QAAP,CAAgBE,MAApC,CAAvB,EACIL,QAAQ,CAACN,UAAU,EAAX,CAAR;AACJ;AACH;;AAED,MAAIO,MAAM,CAACI,MAAP,KAAkB,GAAtB,EACIL,QAAQ,CAACT,cAAc,EAAf,CAAR,CADJ,KAEK;AACDS,IAAAA,QAAQ,CAACV,iBAAiB,CAACW,MAAM,CAACK,IAAR,CAAlB,CAAR;AACH;AACJ,CAjBM","sourcesContent":["import {\n    verifyTokenStarted, verifyUserSuccess, verifyTokenEnd,\n    userLoginStarted, userLoginFailure, userLogout\n} from \"../actions/authActions\";\nimport { verifyTokenService, userLoginService, userLogoutService } from '../services/auth';\n\n//handle verify token\nexport const verifyTokenAsync = (silentAuth = false) => async dispatch => {\n    dispatch(verifyTokenStarted(silentAuth));\n\n    const result = await verifyTokenService();\n\n    if (result.error) {\n        dispatch(verifyTokenEnd());\n        if (result.response && [401, 403].includes(result.response.status))\n            dispatch(userLogout());\n        return;\n    }\n\n    if (result.status === 204)\n        dispatch(verifyTokenEnd());\n    else {\n        dispatch(verifyUserSuccess(result.data));\n    }\n}\n\n"]},"metadata":{},"sourceType":"module"}